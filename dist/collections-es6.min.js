!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e(t):e(t)}("undefined"!=typeof window?window:global,function(t){"use strict";var e=Object.defineProperty,i=Object.defineProperties,r=Array.isArray,n=Object.create,o="object"==typeof t.ES6?t.ES6:t.ES6={},a=function(t){return"function"==typeof t},l=function(){},s=function(t,e){this._map=t,this._flag=e,this._currentEntry=null,this._done=!1},h=function(t,e){this._set=t,this._flag=e,this._currentEntry=null,this._done=!1},u=function(t){return null!==t&&("object"==typeof t||"function"==typeof t)},p=function(t,e){if("function"!=typeof t||"function"!=typeof e)throw new TypeError("Child and Parent must be function type");t.prototype=Object.create(e.prototype),t.prototype.constructor=t};e(l.prototype,Symbol.iterator.toString(),{value:function(){return this},writable:!0,configurable:!0}),p(s,l),p(h,l),e(s.prototype,Symbol.toStringTag.toString(),{value:"Map Iterator",configurable:!0}),e(h.prototype,Symbol.toStringTag.toString(),{value:"Set Iterator",configurable:!0}),s.prototype.next=function(){if(!(this instanceof s))throw new TypeError("Method Map Iterator.prototype.next called on incompatible receiver "+String(this));var t,e=this;return e._done?{done:!0,value:void 0}:(null===e._currentEntry?e._currentEntry=e._map._head:e._currentEntry=e._currentEntry.next,null===e._currentEntry?(e._done=!0,{done:!0,value:void 0}):(1===e._flag?t=[e._currentEntry.key,e._currentEntry.value]:2===e._flag?t=e._currentEntry.value:3===e._flag&&(t=e._currentEntry.key),{done:!1,value:t}))},h.prototype.next=function(){if(!(this instanceof h))throw new TypeError("Method Set Iterator.prototype.next called on incompatible receiver "+String(this));var t,e=this;return e._done?{done:!0,value:void 0}:(null===e._currentEntry?e._currentEntry=e._set._head:e._currentEntry=e._currentEntry.next,null===e._currentEntry?(e._done=!0,{done:!0,value:void 0}):(1===e._flag?t=[e._currentEntry.value,e._currentEntry.value]:2===e._flag&&(t=e._currentEntry.value),{done:!1,value:t}))};var c=function(t){var e=String(t);return void 0===t||null===t?"I___"+e:"number"==typeof t?"N___"+e:"string"==typeof t?"S___"+e:"boolean"==typeof t?"B___"+e:null},f=function t(e){if(!(this instanceof t)||d(this))throw new TypeError("Constructor Map requires 'new'");v(this),null!==e&&void 0!==e&&o.forOf(e,function(t){if(!u(t))throw new TypeError("Iterator value "+t+" is not an entry object");this.set(t[0],t[1])},this)};f.prototype.set=function(t,i){if(!d(this))throw new TypeError("Method Map.prototype.set called on incompatible receiver "+this);var r,n=c(t),o=this._objectHash;if(null===n){if("number"==typeof t[o]&&this._data.objects[t[o]]instanceof y)return r=this._data.objects[t[o]],r.value=i,this;r=new y(t,i),this._data.objects.push(r),e(t,o.toString(),{value:this._data.objects.length-1,configurable:!0}),this._size++}else{if(this._data.primitives[n]instanceof y)return r=this._data.primitives[n],r.value=i,this;r=new y(t,i),this._data.primitives[n]=r,this._size++}return null===this._head&&(this._head=r,r.next=null,r.prev=null),null===this._tail?this._tail=this._head:(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r),this},f.prototype.has=function(t){if(!d(this))throw new TypeError("Method Map.prototype.has called on incompatible receiver "+this);var e=c(t),i=this._objectHash;return null===e?"number"==typeof t[i]&&this._data.objects[t[i]]instanceof y:this._data.primitives[e]instanceof y},f.prototype.get=function(t){if(!d(this))throw new TypeError("Method Map.prototype.get called on incompatible receiver "+this);var e=c(t),i=this._objectHash;if(null===e){if("number"==typeof t[i]&&this._data.objects[t[i]]instanceof y)return this._data.objects[t[i]].value}else if(this._data.primitives[e]instanceof y)return this._data.primitives[e].value},f.prototype.clear=function(){if(!d(this))throw new TypeError("Method Map.prototype.clear called on incompatible receiver "+this);var t;Object.getOwnPropertyNames(this._data.primitives).forEach(function(e){this._data.primitives[e]instanceof y&&(t=this._data.primitives[e],delete this._data.primitives[e],t.next=null,t.prev=null)},this),Object.getOwnPropertyNames(this._data.objects).forEach(function(e){this._data.objects[e]instanceof y&&(t=this._data.objects[e],delete this._data.objects[e],delete t.key[this._objectHash],t.next=null,t.prev=null)},this),this._data.objects.length=0,this._head=null,this._tail=null,this._size=0},f.prototype.delete=function(t){if(!d(this))throw new TypeError("Method Map.prototype.delete called on incompatible receiver "+this);var e,i=c(t),r=this._objectHash;if(null===i){if(!("number"==typeof t[r]&&this._data.objects[t[r]]instanceof y))return!1;e=this._data.objects[t[r]],delete this._data.objects[t[r]],delete e.key[r]}else{if(!(this._data.primitives[i]instanceof y))return!1;e=this._data.primitives[i],delete this._data.primitives[i]}return null!==e.prev&&null!==e.next?(e.prev.next=e.next,e.next.prev=e.prev,e.next=null,e.prev=null):null===e.prev&&null!==e.next&&(this._head=e.next,e.next.prev=null,e.next=null),null!==e.prev&&null===e.next?(this._tail=e.prev,e.prev.next=null,e.prev=null):(this._head=null,this._tail=null),this._size--,!0},e(f.prototype,"size",{get:function(){if(!d(this))throw new TypeError("Method Map.prototype.size called on incompatible receiver "+this);return this._size},configurable:!0}),f.prototype.entries=function(){if(!d(this))throw new TypeError("Method Map.prototype.entries called on incompatible receiver "+this);return new s(this,1)},f.prototype.values=function(){if(!d(this))throw new TypeError("Method Map.prototype.values called on incompatible receiver "+this);return new s(this,2)},f.prototype.keys=function(){if(!d(this))throw new TypeError("Method Map.prototype.keys called on incompatible receiver "+this);return new s(this,3)},f.prototype.forEach=function(t,e){if(!d(this))throw new TypeError("Method Map.prototype.forEach called on incompatible receiver "+this);if(!a(t))throw new TypeError(t+" is not a function");for(var i=this._head;null!==i;)t.call(e,i.value,i.key,this),i=i.next},f.prototype[Symbol.iterator]=f.prototype.entries,e(f.prototype,Symbol.toStringTag.toString(),{value:"Map",configurable:!0});var v=function(t){i(t,{_isMap:{value:!0},_head:{value:null,writable:!0},_tail:{value:null,writable:!0},_objectHash:{value:Symbol("Hash(map)")},_size:{value:0,writable:!0},_data:{value:n(null,{primitives:{value:n(null)},objects:{value:[]}})}})},_=function(t){return!0===t._isMap&&(null===t._head||t._head instanceof y)&&(null===t._tail||t._tail instanceof y)&&o.isSymbol(t._objectHash)&&"number"==typeof t._size&&u(t._data)&&u(t._data.primitives)&&r(t._data.objects)},d=function(t){return t instanceof f&&_(t)},y=function(t,e){this.key=t,this.value=e,this.next=null,this.prev=null},b=function t(e){if(!(this instanceof t)||g(this))throw new TypeError("Constructor Set requires 'new'");w(this),null!==e&&void 0!==e&&o.forOf(e,function(t){this.add(t)},this)};b.prototype.add=function(t){if(!g(this))throw new TypeError("Method Set.prototype.add called on incompatible receiver "+this);var i,r=c(t),n=this._objectHash;if(null===r){if("number"==typeof t[n]&&this._data.objects[t[n]]instanceof S)return this;i=new S(t),this._data.objects.push(i),e(t,n.toString(),{value:this._data.objects.length-1,configurable:!0}),this._size++}else{if(this._data.primitives[r]instanceof S)return this;i=new S(t),this._data.primitives[r]=i,this._size++}return null===this._head&&(this._head=i,i.next=null,i.prev=null),null===this._tail?this._tail=this._head:(this._tail.next=i,i.prev=this._tail,i.next=null,this._tail=i),this},b.prototype.has=function(t){if(!g(this))throw new TypeError("Method Set.prototype.has called on incompatible receiver "+this);var e=c(t),i=this._objectHash;return null===e?"number"==typeof t[i]&&this._data.objects[t[i]]instanceof S:this._data.primitives[e]instanceof S},b.prototype.clear=function(){if(!g(this))throw new TypeError("Method Set.prototype.clear called on incompatible receiver "+this);var t;Object.getOwnPropertyNames(this._data.primitives).forEach(function(e){this._data.primitives[e]instanceof S&&(t=this._data.primitives[e],delete this._data.primitives[e],t.next=null,t.prev=null)},this),Object.getOwnPropertyNames(this._data.objects).forEach(function(e){this._data.objects[e]instanceof S&&(t=this._data.objects[e],delete this._data.objects[e],delete t.value[this._objectHash],t.next=null,t.prev=null)},this),this._data.objects.length=0,this._head=null,this._tail=null,this._size=0},b.prototype.delete=function(t){if(!g(this))throw new TypeError("Method Set.prototype.delete called on incompatible receiver "+this);var e,i=c(t),r=this._objectHash;if(null===i){if(!("number"==typeof t[r]&&this._data.objects[t[r]]instanceof S))return!1;e=this._data.objects[t[r]],delete this._data.objects[t[r]],delete e.value[r]}else{if(!(this._data.primitives[i]instanceof S))return!1;e=this._data.primitives[i],delete this._data.primitives[i]}return null!==e.prev&&null!==e.next?(e.prev.next=e.next,e.next.prev=e.prev,e.next=null,e.prev=null):null===e.prev&&null!==e.next&&(this._head=e.next,e.next.prev=null,e.next=null),null!==e.prev&&null===e.next?(this._tail=e.prev,e.prev.next=null,e.prev=null):(this._head=null,this._tail=null),this._size--,!0},b.prototype.entries=function(){if(!g(this))throw new TypeError("Method Set.prototype.entries called on incompatible receiver "+this);return new h(this,1)},b.prototype.values=function(){if(!g(this))throw new TypeError("Method Set.prototype.values called on incompatible receiver "+this);return new h(this,2)},b.prototype.keys=b.prototype.values,b.prototype[Symbol.iterator]=b.prototype.values,e(b.prototype,"size",{get:function(){if(!g(this))throw new TypeError("Method Set.prototype.size called on incompatible receiver "+this);return this._size},configurable:!0}),b.prototype.forEach=function(t,e){if(!g(this))throw new TypeError("Method Set.prototype.forEach called on incompatible receiver "+this);if(!a(t))throw new TypeError(t+" is not a function");for(var i=this._head;null!==i;)t.call(e,i.value,i.value,this),i=i.next},e(b.prototype,Symbol.toStringTag.toString(),{value:"Set",configurable:!0});var w=function(t){i(t,{_isSet:{value:!0},_head:{value:null,writable:!0},_tail:{value:null,writable:!0},_objectHash:{value:Symbol("Hash(set)")},_size:{value:0,writable:!0},_data:{value:n(null,{primitives:{value:n(null)},objects:{value:[]}})}})},m=function(t){return!0===t._isSet&&(null===t._head||t._head instanceof S)&&(null===t._tail||t._tail instanceof S)&&o.isSymbol(t._objectHash)&&"number"==typeof t._size&&u(t._data)&&u(t._data.primitives)&&r(t._data.objects)},S=function(t){this.value=t,this.next=null,this.prev=null},g=function(t){return t instanceof b&&m(t)},j=function t(e){if(!(this instanceof t)||x(this))throw new TypeError("Constructor WeakMap requires 'new'");E(this),null!==e&&void 0!==e&&o.forOf(e,function(t){if(!u(t))throw new TypeError("Iterator value "+t+" is not an entry object");this.set(t[0],t[1])},this)},E=function(t){i(t,{_isWeakMap:{value:!0},_objectHash:{value:Symbol("Hash(weakmap)")},_values:{value:[]}})};e(j.prototype,Symbol.toStringTag.toString(),{value:"WeakMap",configurable:!0});var M=function(t){return!0===t._isWeakMap&&o.isSymbol(t._objectHash)&&r(t._values)},x=function(t){return t instanceof j&&M(t)};j.prototype.set=function(t,i){if(!x(this))throw new TypeError("Method WeakMap.prototype.set called on incompatible receiver "+this);if(!u(t)||o.isSymbol(t))throw new TypeError("Invalid value used as weak map key");var r=this._objectHash;return"number"==typeof t[r]&&this._values.hasOwnProperty(t[r])?this._values[t[r]]=i:(this._values.push(i),e(t,r.toString(),{value:this._values.length-1,configurable:!0})),this},j.prototype.get=function(t){if(!x(this))throw new TypeError("Method WeakMap.prototype.get called on incompatible receiver "+this);if(u(t)&&!o.isSymbol(t)){var e=this._objectHash;return"number"==typeof t[e]&&this._values.hasOwnProperty(t[e])?this._values[t[e]]:void 0}},j.prototype.has=function(t){if(!x(this))throw new TypeError("Method WeakMap.prototype.has called on incompatible receiver "+this);if(!u(t)||o.isSymbol(t))return!1;var e=this._objectHash;return"number"==typeof t[e]&&this._values.hasOwnProperty(t[e])},j.prototype.delete=function(t){if(!x(this))throw new TypeError("Method WeakMap.prototype.delete called on incompatible receiver "+this);if(!u(t)||o.isSymbol(t))return!1;var e=this._objectHash;return!("number"!=typeof t[e]||!this._values.hasOwnProperty(t[e]))&&(delete this._values[t[e]],delete t[e],!0)};var T=function t(e){if(!(this instanceof t)||O(this))throw new TypeError("Constructor WeakSet requires 'new'");k(this),null!==e&&void 0!==e&&o.forOf(e,function(t){this.add(t)},this)},k=function(t){i(t,{_isWeakSet:{value:!0},_objectHash:{value:Symbol("Hash(weakset)")}})},H=function(t){return!0===t._isWeakSet&&o.isSymbol(t._objectHash)},O=function(t){return t instanceof T&&H(t)};return T.prototype.add=function(t){if(!O(this))throw new TypeError("Method WeakSet.prototype.add called on incompatible receiver "+this);if(!u(t)||o.isSymbol(t))throw new TypeError("Invalid value used in weak set");var i=this._objectHash;return t[i]===i.toString()||e(t,i.toString(),{value:i.toString(),configurable:!0}),this},T.prototype.has=function(t){if(!O(this))throw new TypeError("Method WeakSet.prototype.has called on incompatible receiver "+this);if(!u(t)||o.isSymbol(t))return!1;var e=this._objectHash;return t[e]===e.toString()},T.prototype.delete=function(t){if(!O(this))throw new TypeError("Method WeakSet.prototype.delete called on incompatible receiver "+this);if(!u(t)||o.isSymbol(t))return!1;var e=this._objectHash;return t[e]===e.toString()&&(delete t[e],!0)},e(T.prototype,Symbol.toStringTag.toString(),{value:"WeakSet",configurable:!0}),i(o,{isMap:{value:d,writable:!0,configurable:!0},isSet:{value:g,writable:!0,configurable:!0},isWeakMap:{value:x,writable:!0,configurable:!0},isWeakSet:{value:O,writable:!0,configurable:!0}}),e(t,"Map",{value:f,writable:!0,configurable:!0}),e(t,"Set",{value:b,writable:!0,configurable:!0}),e(t,"WeakMap",{value:j,writable:!0,configurable:!0}),e(t,"WeakSet",{value:T,writable:!0,configurable:!0}),o});